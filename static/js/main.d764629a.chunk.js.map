{"version":3,"sources":["util/firebase.js","components/blocks/menu.js","util/routes.js","components/profile.js","components/writeSpace.js","util/functions.js","components/blocks/reccdItem.js","components/blocks/sentItem.js","components/blocks/letter.js","components/mailbox.js","components/blocks/draftItem.js","components/drafts.js","components/about.js","components/landing.js","App.js","index.js"],"names":["app","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","db","Rebase","createClass","database","auth","Menu","_ref","username","react_default","a","createElement","className","react_router_dom","to","exact","Profile","logOut","onClick","WriteSpace","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","saveDraft","textInput","current","value","setState","isSaving","window","setTimeout","sendFlow","isSending","letter","preSend","sendLetter","email","send","sent","getEmail","e","target","state","React","createRef","_this2","_this$state","draft","Fragment","react_textarea_autosize_esm_browser","text","type","onChange","autoFocus","placeholder","inputRef","startOver","enterEmail","switchView","Component","truncate","input","length","concat","substring","formatDate","date","month","getMonth","day","getDate","year","getFullYear","ReccdItem","from","Date","SentItem","name","Letter","Mailbox","updatedView","curView","selectLetter","isViewing","curLetter","delLetter","key","back","items","reccd","reverse","map","reccdItem","item","sentItem","blocks_letter","DraftItem","isCurrent","Drafts","selectDraft","curDraft","delDraft","console","log","editDraft","history","push","draftItem","drafts","withRouter","About","Landing","toggleNewUser","newUser","defineProperty","onEnter","keyCode","curVal","emailEntered","passEntered","pass","signUp","logIn","onKeyDown","getPassword","getName","createBrowserHistory","letterCollection","App","updateLetter","fetch","asArray","queries","orderByChild","equalTo","then","res","newLetter","now","user","displayName","fromEmail","toEmail","data","deleteLetter","id","remove","deleteDraft","uid","draftText","signInWithEmailAndPassword","loggedIn","getData","catch","signOut","createUserWithEmailAndPassword","updateProfile","post","bindToState","context","assertThisInitialized","letterRef","syncState","removeBinding","react_router","path","render","writeSpace","profile","components_mailbox","components_drafts","component","blocks_menu","components_landing","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.d764629a.chunk.js","sourcesContent":["import Rebase from 're-base';\nimport firebase from 'firebase';\n\nconst config = {\n  apiKey: process.env.REACT_APP_FIREBASE_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_DOMAIN,\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID\n};\n\nconst app = firebase.initializeApp(config)\nconst db = Rebase.createClass(app.database())\nconst auth = firebase.auth();\n\nexport { db, auth };","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport * as ROUTES from '../../util/routes';\n\n\nimport '../../css/menu.scss';\n\nconst Menu = ({username}) => {\n  return (\n    <div className='menu'>\n      <h4 className='clickable menu__username'><NavLink to={ROUTES.PROFILE}>{username}</NavLink></h4>\n      <h4 className='clickable'><NavLink exact to={ROUTES.LANDING}>Write</NavLink></h4>\n      <h4 className='clickable'><NavLink to={ROUTES.MAILBOX}>Mailbox</NavLink></h4>\n      <h4 className='clickable'><NavLink to={ROUTES.DRAFTS}>Drafts</NavLink></h4>\n      <h4 className='clickable'><NavLink to={ROUTES.ABOUT}>About</NavLink></h4>\n    </div>\n  );\n}\n \nexport default Menu;","export const LANDING = '/';\nexport const PROFILE = '/profile';\nexport const ABOUT = '/about';\nexport const MAILBOX = '/mailbox';\nexport const DRAFTS = '/drafts';","import React from 'react';\n\n\n\nconst Profile = ({ logOut }) => {\n  return (\n    <div className='main'>\n      PROFILE\n      <h4 className='clickable danger' onClick={logOut}>Log Out</h4>\n    </div>\n  );\n}\n \nexport default Profile;","import React, { Component } from 'react';\nimport Textarea from 'react-textarea-autosize';\n\nimport '../css/write-space.scss';\n\nclass WriteSpace extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { \n      letter: '',\n      email: '',\n      isSending: false,\n      preSend: true,\n      sent: false,\n      isSaving: false\n     }\n     this.textInput = React.createRef();\n  }\n\n  saveDraft = () => {\n    this.props.saveDraft(this.textInput.current.value);\n    this.setState({isSaving: true});\n    window.setTimeout(() => {\n      this.setState({isSaving: false});\n      this.textInput.current.value = '';\n    }, 2000)\n  }\n\n  sendFlow = () => {\n    this.setState({isSending: true, letter: this.textInput.current.value})\n    //wait for a bit, then load into get email page\n    window.setTimeout(() => this.setState({preSend: false}), 2000)\n  };\n\n  sendLetter = (letter, email) => {\n    this.props.send(letter, email);\n    this.setState({sent: true});\n    window.setTimeout(() => {\n      this.setState({\n        letter: '',\n        email: '',\n        isSending: false,\n        preSend: true,\n        sent: false\n      });\n      this.textInput.current.value = '';\n    }, 2000)\n  };\n\n  getEmail = (e) => {\n    this.setState({email: e.target.value})\n  };\n\n\n  render() { \n    let {letter, email, isSaving, isSending} = this.state;\n\n    let draft = \n      <React.Fragment>\n        <div className='write main'>\n          <Textarea \n            value={this.props.text && this.props.text}\n            className='write__textarea'\n            type='text'\n            onChange={this.props.onChange}\n            autoFocus\n            placeholder='Write...'\n            inputRef={this.textInput}\n          />\n          {isSaving && <h6>Saved as draft</h6>}\n        </div>\n        <div className='write__menu context-menu'>\n          <h4 className='clickable' onClick={() => this.sendFlow()}>Send</h4>\n          <h4 className='clickable' onClick={this.saveDraft}>Save as a draft</h4>\n          <h4 className='clickable write__clear danger' onClick={() => {this.props.startOver(this.textInput.current)}}>Start over</h4>\n        </div>\n      </React.Fragment>\n\n    let preSend = \n      <div className='write main'>\n        <div className='letter'>{letter}</div>\n      </div>\n\n    let enterEmail =\n      <div className='write main'>\n        <div className='letter'>\n          <input autoFocus type='text' placeholder='Email' onChange={(e) => this.getEmail(e)}/>\n          <h4>Who would you like to send this letter to?</h4>\n          {this.state.email !== '' && <h6 className='clickable' onClick={() => this.sendLetter(letter, email)}>Click here to send</h6>}\n        </div>\n      </div>\n\n    let sent = \n    <div className='write main'>\n      <div className='letter'>\n        <h4>Sent!</h4>\n      </div>\n    </div>\n\n\n    let send =\n      <React.Fragment>\n        {this.state.preSend ? preSend : this.state.sent ? sent : enterEmail}\n        <div className='write__menu context-menu'>\n          <h4 className='active'>Send</h4>\n          <h4 className='clickable' onClick={this.switchView}>Save as a draft</h4>\n          <h4 className='clickable write__clear danger' onClick={() => {this.props.startOver(this.textInput.current)}} > Start over</h4>\n        </div>\n      </React.Fragment>\n\n    return (\n      isSending ? send : draft\n    );\n  }\n}\n \nexport default WriteSpace;\n\n","const truncate = (input) => input.length > 42 ? `${input.substring(0, 42)}...` : input;\n\nconst formatDate = (date) => {\n  let months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n  let month = months[date.getMonth()];\n  let day = date.getDate();\n  let year = date.getFullYear();\n  let string = `${month} ${day}, ${year}`;\n  return string;\n}\n\nexport {truncate, formatDate};","import React from 'react';\n\nimport { truncate, formatDate } from '../../util/functions';\n\nconst ReccdItem = ({from, date, text, onClick}) => {\n  return (\n    <div className='reccd-item clickable' onClick={onClick}>\n      <span className='reccd-item__name'>{from}</span>\n      <span className='reccd-item__date'>{formatDate(new Date(date))}</span>\n      <p>{truncate(text)}</p>\n    </div>\n  );\n}\n \nexport default ReccdItem;","import React from 'react';\n\nimport { formatDate } from '../../util/functions';\n\nconst SentItem = ({name, date}) => {\n  return (\n    <div className='sent-item'>\n      <h4 className='sent-item__name'>{name}</h4>\n      <h6 className='sent-item__date'>{formatDate(new Date(date))}</h6>\n    </div>\n  );\n}\n \nexport default SentItem;","import React from 'react';\nimport { formatDate } from '../../util/functions';\n\nconst Letter = ({from, date, text}) => {\n  return (\n    <div className='letter'>\n      <span className='letter__name'>{from}</span>\n      <span className='letter__date'>{formatDate(new Date(date))}</span>\n      <p className='letter__text'>{text}</p>\n    </div>\n  );\n}\n \nexport default Letter;","import React, { Component } from 'react';\n\nimport ReccdItem from './blocks/reccdItem';\nimport SentItem from './blocks/sentItem';\nimport Letter from './blocks/letter';\n\nimport '../css/mailbox.scss';\n\nclass Mailbox extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { \n      curView: 'reccd',\n      isViewing: false,\n      curLetter: {}\n    }\n  }\n\n  switchView = () => {\n    let updatedView = this.state.curView === 'reccd' ? 'sent' : 'reccd';\n    this.setState({curView: updatedView});\n  }\n\n  selectLetter = (letter) => {\n    this.setState({isViewing: true, curLetter: letter});\n  }\n\n  delLetter = (key) => {\n    this.props.delLetter(key);\n    this.setState({isViewing: false, curLetter: {}});\n  }\n\n  back = () => {\n    this.setState({isViewing: false});\n  }\n\n\n  render() { \n    const {curView, isViewing, curLetter} = this.state; \n    let items = [];\n    if (curView === 'reccd') {\n      items = this.props.reccd.reverse().map((letter, key) => <ReccdItem key={key} from={letter.from} date={letter.date} text={letter.text} onClick={() => this.selectLetter(letter)}/>)\n    } else {\n      items = this.props.sent.reverse().map((item, key) => <SentItem key={key} name={item.to} date={item.date} />)\n    } \n\n    return (\n      isViewing ? \n        <React.Fragment>\n          <div className='mailbox__list main'>\n            <Letter from={curLetter.from} date={curLetter.date} text={curLetter.text} />\n          </div>\n          <div className='mailbox__menu context-menu'>\n            <h4 className='clickable' onClick={this.back}>Back to Mailbox</h4>\n            <h4 className='clickable danger' onClick={() => this.delLetter(curLetter.key)}>Throw away letter</h4>\n          </div>\n        </React.Fragment>\n      :\n        <React.Fragment>\n          <div className='mailbox__list main'>\n            {items.length !== 0 ? items : <h4 className='inactive'>No Messages</h4>}\n          </div>\n          <div className='mailbox__menu context-menu'>\n            <h4 className={`${curView === 'reccd' ? 'active' : ''} clickable`} onClick={this.switchView}>Received</h4>\n            <h4 className={`${curView === 'sent' ? 'active' : ''} clickable`} onClick={this.switchView}>Sent</h4>\n          </div>\n        </React.Fragment>\n    );\n  }\n}\n \nexport default Mailbox;","import React from 'react';\nimport { truncate, formatDate } from '../../util/functions';\n\nconst DraftItem = ({text, date, onClick, isCurrent}) => {\n  return (\n    <div className='drafts__draft-item clickable' onClick={onClick}>\n      <h4 className='drafts__draft-item__text'>{truncate(text)}</h4>\n      <h6 className='drafts__draft-item__status'>\n        {isCurrent ? 'Currently writing' : formatDate(new Date(date)) }\n      </h6>\n    </div>\n  );\n}\n \nexport default DraftItem;","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\n\nimport DraftItem from './blocks/draftItem';\n\nimport '../css/drafts.scss';\n\n\nclass Drafts extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isViewing: false,\n      curDraft: {}\n    }\n  }\n\n  selectDraft = (draft) => {\n    this.setState({isViewing: true, curDraft: draft});\n  }\n\n  delDraft = (key) => {\n    console.log('deleting draft');\n    this.props.delDraft(key);\n    this.setState({isViewing: false, curDraft: {}});\n  }\n\n  editDraft = () => {\n    this.props.editDraft(this.state.curDraft);\n    this.props.delDraft(this.state.curDraft.key);\n    this.props.history.push('/')\n  }\n\n  back = () => {\n    this.setState({isViewing: false});\n  }\n\n  render() { \n    const { isViewing, curDraft} = this.state; \n\n    return (\n      isViewing ? \n      <React.Fragment>\n        <div className='mailbox__list main'>\n          <div>{curDraft.text}</div>\n        </div>\n        <div className='mailbox__menu context-menu'>\n          <h4 className='clickable' onClick={this.back}>Back to Drafts</h4>\n          <h4 className='clickable' onClick={this.editDraft}>Edit draft</h4>\n          <h4 className='clickable danger drafts__delete' onClick={() => this.delDraft(curDraft.key)}>Throw away draft</h4>\n        </div>\n      </React.Fragment>\n    :\n      <React.Fragment>\n        <div className='drafts main'>\n          {this.props.curLetter !== '' && <DraftItem text={this.props.curLetter} isCurrent />}\n          { this.props.drafts.length !== 0 ? \n            this.props.drafts.map((draft, key) =>\n              <DraftItem text={draft.text} date={draft.date} key={key} onClick={() => this.selectDraft(draft)}/>\n            )\n            :\n            <h4 className='inactive'>No Drafts</h4>\n          }\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n \nexport default withRouter(Drafts);","import React from 'react';\nimport '../css/about.scss'\n\nconst About = () => {\n  return ( \n    <div className='about main'>\n      <p className='about__paragraph'>\n        Write helps you communicate with the people you love.\n      </p> \n      <p className='about__paragraph'>\n        By bringing reflection and connection into an online letter writing space space, Write reclaims the meaning lost in digital communication. \n      </p>\n      <p className='about__paragraph'>\n        Letter writing is reflective and connecting for both the reader and writer. It’s a unique opportunity to reflect on yourself, discover more about someone else, and focus on expressing yourself through writing. Physically writing a letter is time consuming and associated with insecurities like bad handwriting and poor writing skills. On the other hand, digital communication is temporary and lacks meaning. Write makes it easy to send and receive meaningful communication not intermixed with the other to-dos and logistics cluttering our email inboxes, text histories, and voicemails. \n      </p>\n      <p className='about__paragraph'>\n        To help you write letters, Write prompts you periodically with self-reflective questions to ask yourself and to ask people around you. Once you send a letter with Write, it will be delivered at a random moment within seven days after sending. When someone knows the exact moment a message was delivered and seen, an expectation for a hasty response is placed on both the sender and receiver.  By delivering letters serendipitously, Write creates a space for reflecting on the content of the letter. \n      </p>\n    </div>\n   );\n}\n \nexport default About;\n\n\n\n\n","import React, { Component } from 'react';\n\nimport '../css/landing.scss';\n\nclass Landing extends Component {\n  constructor(props) {\n    super(props)\n    this.state = { \n      newUser: false,\n      emailEntered: false,\n      passEntered: false,\n      email: '',\n      pass: '',\n      name: ''\n    }\n  }\n\n  toggleNewUser = () => {\n    this.setState((state) => ({newUser: !state.newUser}))\n  }\n\n  onChange = (e) => {\n    this.setState({[e.target.name]: e.target.value})\n  }\n\n  onEnter = (e) => {\n    if (e.keyCode === 13) {\n      let curVal = e.target.value;\n      if (e.target.name === 'email') {\n        this.setState({emailEntered: true, email: curVal});\n        e.target.value = '';\n      } else if (!this.state.newUser && e.target.name === 'pass') {\n        this.props.logIn(this.state.email, this.state.pass);\n      } else if (e.target.name === 'pass') {\n        this.setState({passEntered: true, pass: curVal});\n        e.target.value = '';\n      } else {\n        this.props.signUp(this.state.email, this.state.pass, this.state.name)\n      }\n    }\n  }\n\n  render() { \n    const getEmail = \n      <div>\n        <input \n          type='text' \n          placeholder='Type your email to log in' \n          onChange={this.onChange}\n          onKeyDown={this.onEnter} \n          name='email' \n          autoFocus\n        />\n        {this.state.email !== '' && <h6>{this.state.newUser ? \n          'Welcome to Write! Press enter to continue.'\n          : \n          'Welcome! Press enter to continue'}</h6>\n        }\n        <h6 className='clickable landing__sign-in-up' onClick={this.toggleNewUser}>\n          {this.state.newUser ?\n            'Returning user? Click to log in'\n            :\n            'or, click here to create an account'\n          }\n        </h6>\n      </div>\n\n    const getPassword = \n      <div>\n        <input \n          type='password'\n          placeholder='Type password'\n          onChange={this.onChange}\n          onKeyDown={this.onEnter}\n          name='pass'\n          autoFocus\n        />\n        {this.state.pass !== '' && <h6>Press enter to continue</h6>}\n      </div>\n\n\n    const getName = \n      <div>\n        <input \n          type='text' \n          placeholder='What is your full name?' \n          onChange={this.onChange}\n          onKeyDown={this.onEnter} \n          name='name' \n          autoFocus\n        />\n        {this.state.name !== '' && <h6>Press enter to continue</h6>}\n      </div>\n\n    return (\n      <div className='main'>\n        <p>\n          Write helps you communicate with the people you love.\n        </p>\n        <p>\n          Letter writing is reflective and connecting for both the reader and writer. It’s a unique opportunity to reflect, discover more about someone else, and focus on expressing yourself through writing. By bringing reflection and connection into an online letter writing space, Write reclaims the meaning lost in digital communication.\n        </p>\n        {\n          this.state.emailEntered ? this.state.passEntered ? getName : getPassword : getEmail\n        }\n      </div>\n    );\n  }\n}\n \nexport default Landing;","import React, {Component} from 'react';\nimport { db, auth } from './util/firebase'\nimport {\n  BrowserRouter as Router,\n  Route\n} from 'react-router-dom';\nimport { createBrowserHistory } from 'history';\n\nimport Menu from './components/blocks/menu';\nimport Profile from './components/profile';\nimport WriteSpace from './components/writeSpace';\nimport Mailbox from './components/mailbox';\nimport Drafts from './components/drafts';\nimport About from './components/about';\nimport Landing from './components/landing';\n\nimport * as ROUTES from './util/routes';\n\nimport './css/app.scss';\n\nconst history = createBrowserHistory();\nconst letterCollection = 'letterCollection'\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      letter: '',\n      loggedIn: false,\n      user: {},\n      sent: [],\n      reccd: [],\n      drafts: []\n    };\n  }\n\n  componentWillUnmount() {\n    db.removeBinding(this.letterRef);\n  }\n\n  updateLetter = (e) => {\n    let value = e.target.value;\n    this.setState({letter: value })\n  }\n\n  send = (letter, email) => {\n    db.fetch('users', {\n      asArray: true,\n      queries: {\n        orderByChild: 'email',\n        equalTo: email\n      }\n    }).then((res) => {\n      let date = Date.now();\n      \n      let newLetter = {\n        date: date,\n        from: this.state.user.displayName,\n        fromEmail: this.state.user.email,\n        text: letter,\n        to: res[0].displayName,\n        toEmail: email\n      }\n      db.push('letterCollection', {data: newLetter})\n    })\n  }\n\n  startOver = (e) => {\n    this.setState({letter: ''});\n    e.value = '';\n  }\n\n  deleteLetter = (id) => {\n    db.remove(letterCollection + '/' + id)\n  }\n\n  deleteDraft = (id) => {\n    db.remove(`users/${this.state.user.uid}/drafts/${id}`)\n  }\n\n  editDraft = (draft) => {\n    // save current edit if currently editing\n    this.setState({letter: draft.text});\n  }\n\n  saveDraft = (draftText) => {\n    let draft = {\n      date: Date.now(),\n      text: draftText\n    }\n    db.push(`users/${this.state.user.uid}/drafts`, {data: draft});\n    this.setState({letter: ''});\n  }\n\n  logIn = (email, pass) => {\n    auth.signInWithEmailAndPassword(email, pass)\n    .then((user) => {\n      this.setState({loggedIn: true, user: user.user});\n      this.getData(this.state.user.email);\n    })  \n    .catch(e => console.log(e));\n  }\n\n  logOut = () => {\n    auth.signOut()\n        .then(() => {\n          this.setState({loggedIn: false});\n          history.push('/');\n        })\n        .catch(e => console.log(e));\n  }\n\n  signUp = (email, pass, name) => {\n    auth.createUserWithEmailAndPassword(email, pass)\n        .then((res) => {\n          res.user.updateProfile({displayName: name})\n          .then(() => {\n            this.setState({loggedIn: true, user: res.user});\n            this.getData(this.state.user.email);\n  \n            let newUser = {\n              displayName: this.state.user.displayName,\n              email: this.state.user.email,\n              letter: '',\n              drafts: {}\n            }\n  \n            db.post(`users/${this.state.user.uid}`, {data: newUser})\n          });\n        })\n        .catch(e => console.log(e))\n  }\n\n  getData = () => {\n    db.bindToState('letterCollection', {\n      context: this,\n      state: 'sent',\n      asArray: true, \n      queries: {\n        orderByChild: 'fromEmail',\n        equalTo: this.state.user.email,\n      }\n    })\n\n    db.bindToState('letterCollection', {\n      context: this,\n      state: 'reccd',\n      asArray: true, \n      queries: {\n        orderByChild: 'toEmail',\n        equalTo: this.state.user.email\n      }\n    })\n\n    db.bindToState(`users/${this.state.user.uid}/drafts`, {\n      context: this,\n      state: 'drafts',\n      asArray: true\n    })\n\n    this.letterRef = db.syncState(`users/${this.state.user.uid}/letter`, {\n      context: this,\n      state: 'letter'\n    });\n  }\n    \n\n  render() { \n    let {user, drafts, letter, reccd, sent} = this.state;\n    return (\n      this.state.loggedIn ?\n        <Router history={history}>\n          <div className='app'>\n            <Route exact path={ROUTES.LANDING} render={() => \n              <WriteSpace\n                text={letter}\n                onChange={this.updateLetter} \n                saveDraft={this.saveDraft}\n                send={this.send}\n                startOver={this.startOver}\n              />}  \n            />\n            <Route path={ROUTES.PROFILE} render={() => <Profile logOut={this.logOut} />} />\n            <Route path={ROUTES.MAILBOX} render={() => <Mailbox reccd={reccd} sent={sent} delLetter={this.deleteLetter}/>}  />\n            <Route path={ROUTES.DRAFTS} render={() => <Drafts curLetter={letter} drafts={drafts} editDraft={this.editDraft} delDraft={this.deleteDraft}/>} />\n            <Route path={ROUTES.ABOUT} component={About} />\n            <Menu username={user.displayName}/>\n          </div>\n        </Router>\n      :\n        <Router>\n          <div className='app'>\n            <Route path={ROUTES.LANDING} render={() => <Landing logIn={this.logIn} signUp={this.signUp} />} />\n          </div>\n        </Router>\n    );\n  }\n}\n \nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}