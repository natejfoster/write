{"version":3,"sources":["util/firebase.js","components/blocks/menu.js","util/routes.js","components/profile.js","util/functions.js","components/writeSpace.js","components/blocks/reccdItem.js","components/blocks/sentItem.js","components/blocks/letter.js","components/mailbox.js","components/blocks/draftItem.js","components/drafts.js","components/about.js","components/landing.js","App.js","index.js"],"names":["app","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","db","Rebase","createClass","database","auth","Menu","_ref","username","react_default","a","createElement","className","react_router_dom","to","exact","Profile","logOut","email","displayName","Fragment","onClick","truncate","input","length","concat","substring","formatDate","date","month","getMonth","day","getDate","year","getFullYear","formatLetter","text","replace","WriteSpace","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","saveDraft","textInput","current","value","setState","isSaving","window","setTimeout","sendFlow","test","console","log","isSending","letter","preSend","sendLetter","send","sent","getEmail","e","target","cancel","focus","initStartOver","isDeleting","startOver","cancelStartOver","state","React","createRef","_this2","_this$state","showMenu","deleteMenu","draft","react_textarea_autosize_esm_browser","type","onChange","autoFocus","placeholder","inputRef","enterEmail","Component","ReccdItem","from","Date","SentItem","name","Letter","fromEmail","Mailbox","switchView","updatedView","getAttribute","curView","selectLetter","isViewing","curLetter","initDelete","delLetter","key","back","cancelDelete","items","toConsumableArray","reccd","reverse","map","reccdItem","item","sentItem","blocks_letter","DraftItem","isCurrent","Drafts","selectDraft","curDraft","delDraft","editDraft","history","push","draftSelected","drafts","draftItem","withRouter","About","onPrivacy","about","href","Landing","toggleNewUser","newUser","defineProperty","onEnter","keyCode","curVal","emailEntered","passEntered","pass","signUp","logIn","onKeyDown","ref","passwordInfo","getPassword","getName","menu","react_responsive_default","query","createBrowserHistory","letterCollection","App","updateLetter","fetch","asArray","queries","orderByChild","equalTo","then","res","newLetter","now","user","toEmail","data","deleteLetter","id","remove","deleteDraft","uid","draftText","signInWithEmailAndPassword","loggedIn","getData","catch","signOut","createUserWithEmailAndPassword","updateProfile","post","bindToState","context","assertThisInitialized","letterRef","syncState","removeBinding","react_router","path","render","writeSpace","components_profile","components_mailbox","components_drafts","component","blocks_menu","components_landing","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.4c838b81.chunk.js","sourcesContent":["import Rebase from 're-base';\nimport firebase from 'firebase';\n\nconst config = {\n  apiKey: process.env.REACT_APP_FIREBASE_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_DOMAIN,\n  databaseURL: process.env.REACT_APP_FIREBASE_DATABASE,\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_FIREBASE_SENDER_ID,\n  appId: process.env.REACT_APP_FIREBASE_APP_ID\n};\n\nconst app = firebase.initializeApp(config)\nconst db = Rebase.createClass(app.database())\nconst auth = firebase.auth();\n\nexport { db, auth };","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport * as ROUTES from '../../util/routes';\n\n\nimport '../../css/menu.scss';\n\nconst Menu = ({username}) => {\n  return (\n    <div className='menu'>\n      <h4 className='menu__username'><NavLink to={ROUTES.PROFILE} className='clickable'>{username}</NavLink></h4>\n      <h4><NavLink exact to={ROUTES.LANDING} className='clickable'>Write</NavLink></h4>\n      <h4><NavLink to={ROUTES.MAILBOX} className='clickable'>Mailbox</NavLink></h4>\n      <h4><NavLink to={ROUTES.DRAFTS}  className='clickable'>Drafts</NavLink></h4>\n      <h4><NavLink to={ROUTES.ABOUT} className='clickable'>About</NavLink></h4>\n    </div>\n  );\n}\n \nexport default Menu;","export const LANDING = '/';\nexport const PROFILE = '/profile';\nexport const ABOUT = '/about';\nexport const MAILBOX = '/mailbox';\nexport const DRAFTS = '/drafts';","import React from 'react';\nimport '../css/profile.scss';\n\n\n\nconst Profile = ({ logOut, email, displayName }) => {\n  return (\n    <React.Fragment>\n      <div className='main'>\n        <h4 className='profile__name'>{displayName}</h4>\n        <h4 className='profile__email'>{email}</h4>\n      </div>\n      <div className='context-menu'>\n        <h4 className='clickable danger' onClick={logOut}>Log Out</h4>\n      </div>\n    </React.Fragment>\n\n  );\n}\n \nexport default Profile;","const truncate = (input) => input.length > 42 ? `${input.substring(0, 42)}...` : input;\n\nconst formatDate = (date) => {\n  let months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n  let month = months[date.getMonth()];\n  let day = date.getDate();\n  let year = date.getFullYear();\n  let string = `${month} ${day}, ${year}`;\n  return string;\n}\n\nconst formatLetter = (text) => {\n  let formatted = text.replace(/(?:\\r\\n|\\r|\\n)/g, '<br>');\n  return formatted\n}\n\nexport {truncate, formatDate, formatLetter};","import React, { Component } from 'react';\nimport Textarea from 'react-textarea-autosize';\nimport { formatLetter } from '../util/functions';\n\nimport '../css/write-space.scss';\n\nclass WriteSpace extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { \n      letter: '',\n      email: '',\n      isSending: false,\n      preSend: true,\n      sent: false,\n      isSaving: false,\n      isDeleting: false\n     }\n     this.textInput = React.createRef();\n  }\n\n  saveDraft = () => {\n    this.props.saveDraft(this.textInput.current.value);\n    this.setState({isSaving: true});\n    window.setTimeout(() => {\n      this.setState({isSaving: false});\n      this.textInput.current.value = '';\n    }, 2000)\n  }\n\n  sendFlow = () => {\n    let test = formatLetter(this.textInput.current.value);\n    console.log(test);\n    this.setState({isSending: true, letter: this.textInput.current.value})\n    //wait for a bit, then load into get email page\n    window.setTimeout(() => this.setState({preSend: false}), 2000)\n  };\n\n  sendLetter = (letter, email) => {\n    this.props.send(letter, email);\n    this.setState({sent: true});\n    window.setTimeout(() => {\n      this.setState({\n        letter: '',\n        email: '',\n        isSending: false,\n        preSend: true,\n        sent: false\n      });\n      this.textInput.current.value = '';\n    }, 2000)\n  };\n\n  getEmail = (e) => {\n    this.setState({email: e.target.value})\n  };\n\n  cancel = () => {\n    this.setState({email: '', isSending: false, preSend: true, sent: false}, () => {\n      this.textInput.current.focus();\n    });\n  }\n\n  initStartOver = () => {\n    this.setState({isDeleting: true});\n  }\n\n  startOver = (text) => {\n    this.props.startOver(text);\n    this.setState({isDeleting: false});\n  }\n\n  cancelStartOver = () => {\n    this.setState({isDeleting: false});\n  }\n\n  render() { \n    let {letter, email, isSaving, isSending, isDeleting} = this.state;\n\n    let showMenu = this.props.text !== '';\n\n    let deleteMenu = \n      <React.Fragment>\n        <h4 className='clickable' onClick={this.cancelStartOver}>Don't start over</h4>\n        <h4 className='clickable danger' onClick={() => this.startOver(this.textInput.current)}>Click to start over</h4>\n      </React.Fragment>\n\n\n    let draft = \n      <React.Fragment>\n        <div className='write main'>\n          <Textarea \n            value={this.props.text && this.props.text}\n            className='write__textarea'\n            type='text'\n            onChange={this.props.onChange}\n            autoFocus\n            placeholder='Write'\n            inputRef={this.textInput}\n          />\n          {isSaving && <h6>Saved as draft</h6>}\n        </div>\n        {showMenu &&\n          <div className='write__menu context-menu'>\n            <h4 className='clickable' onClick={() => this.sendFlow()}>Send</h4>\n            <h4 className='clickable' onClick={this.saveDraft}>Save as a draft</h4>\n            {isDeleting ? \n              deleteMenu\n            :\n              <h4 className='clickable write__clear danger' onClick={this.initStartOver}>Start over</h4>\n            }\n          </div>\n        }\n      </React.Fragment>\n\n    let preSend = \n      <div className='write main'>\n        <div className='letter'>{letter}</div>\n      </div>\n\n    let enterEmail =\n      <div className='write main'>\n        <div className='letter'>\n          <input autoFocus type='text' placeholder='Email' onChange={(e) => this.getEmail(e)}/>\n          <h4>Who would you like to send this letter to?</h4>\n          {this.state.email !== '' && <h6 className='clickable' onClick={() => this.sendLetter(letter, email)}>Click here to send</h6>}\n        </div>\n      </div>\n\n    let sent = \n    <div className='write main'>\n      <div className='letter'>\n        <h4>Sent!</h4>\n      </div>\n    </div>\n\n\n    let send =\n      <React.Fragment>\n        {this.state.preSend ? preSend : this.state.sent ? sent : enterEmail}\n        <div className='write__menu context-menu'>\n          <h4 className='active'>Send</h4>\n          <h4 className='clickable danger write__cancel' onClick={this.cancel}>Cancel</h4>\n        </div>\n      </React.Fragment>\n\n    return (\n      isSending ? send : draft\n    );\n  }\n}\n \nexport default WriteSpace;\n\n","import React from 'react';\n\nimport { truncate, formatDate } from '../../util/functions';\n\nconst ReccdItem = ({from, date, text, onClick}) => {\n  return (\n    <div className='reccd-item clickable' onClick={onClick}>\n      <span className='reccd-item__name'>{from}</span>\n      <span className='reccd-item__date'>{formatDate(new Date(date))}</span>\n      <p>{truncate(text)}</p>\n    </div>\n  );\n}\n \nexport default ReccdItem;","import React from 'react';\n\nimport { formatDate } from '../../util/functions';\n\nconst SentItem = ({name, date}) => {\n  return (\n    <div className='sent-item'>\n      <h4 className='sent-item__name'>{name}</h4>\n      <h6 className='sent-item__date'>{formatDate(new Date(date))}</h6>\n    </div>\n  );\n}\n \nexport default SentItem;","import React from 'react';\nimport { formatDate, formatLetter } from '../../util/functions';\n\nconst Letter = ({from, date, fromEmail, text}) => {\n  return (\n    <div className='letter msg-wrapper'>\n      <span className='letter__name'>{from}</span>\n      <span className='letter__date'>{formatDate(new Date(date))}</span>\n      <h6 className='letter__email'>{fromEmail}</h6>\n      <p className='letter__text'>{text}</p>\n    </div>\n  );\n}\n \nexport default Letter;","import React, { Component } from 'react';\n\nimport ReccdItem from './blocks/reccdItem';\nimport SentItem from './blocks/sentItem';\nimport Letter from './blocks/letter';\n\nimport '../css/mailbox.scss';\n\nclass Mailbox extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { \n      curView: 'reccd',\n      isViewing: false,\n      isDeleting: false,\n      curLetter: {}\n    }\n  }\n\n  switchView = (e) => {\n    let updatedView = e.target.getAttribute('name');\n    this.setState({curView: updatedView});\n  }\n\n  selectLetter = (letter) => {\n    console.log(letter);\n    this.setState({isViewing: true, curLetter: letter});\n  }\n\n  initDelete = () => {\n    this.setState({isDeleting: true});\n  }\n\n  delLetter = (key) => {\n    this.props.delLetter(key);\n    this.setState({isViewing: false, isDeleting: false, curLetter: {}});\n  }\n\n\n  back = () => {\n    this.setState({isViewing: false});\n  }\n\n  cancelDelete = () => {\n    this.setState({isDeleting: false});\n  }\n\n\n  render() { \n    const {curView, isViewing, isDeleting, curLetter} = this.state; \n    let items = [];\n    let sent = [...this.props.sent];\n    let reccd = [...this.props.reccd];\n\n    if (curView === 'reccd') {\n      items = reccd.reverse().map((letter, key) => <ReccdItem key={key} from={letter.from} date={letter.date} text={letter.text} onClick={() => this.selectLetter(letter)}/>)\n    } else {\n      items = sent.reverse().map((item, key) => <SentItem key={key} name={item.to} date={item.date} />)\n    } \n\n    const deleteMenu = \n      <React.Fragment>\n        <h4 className='clickable' onClick={() => this.cancelDelete}>Don't throw away</h4>\n        <h4 className='clickable danger' onClick={() => this.delLetter(curLetter.key)}>Click to throw away</h4>\n      </React.Fragment>\n\n\n    return (\n      isViewing ? \n        <React.Fragment>\n          <div className='mailbox__list main'>\n            <Letter from={curLetter.from} date={curLetter.date} fromEmail={curLetter.fromEmail} text={curLetter.text} />\n          </div>\n          <div className='mailbox__menu context-menu'>\n            <h4 className='clickable' onClick={this.back}>Back to Mailbox</h4>\n            {isDeleting ? \n              deleteMenu : <h4 className='clickable danger' onClick={this.initDelete}>Throw away letter</h4>\n            }\n          </div>\n        </React.Fragment>\n      :\n        <React.Fragment>\n          <div className='mailbox__list main'>\n            {items.length !== 0 ? items : <h4 className='inactive'>No Messages</h4>}\n          </div>\n          <div className='mailbox__menu context-menu'>\n            <h4 name='reccd' className={`${curView === 'reccd' ? 'active' : ''} clickable`} onClick={(e) => this.switchView(e)} >Received</h4>\n            <h4 name='sent' className={`${curView === 'sent' ? 'active' : ''} clickable`} onClick={(e) => this.switchView(e)} >Sent</h4>\n          </div>\n        </React.Fragment>\n    );\n  }\n}\n \nexport default Mailbox;","import React from 'react';\nimport { truncate, formatDate } from '../../util/functions';\n\nconst DraftItem = ({text, date, onClick, isCurrent}) => {\n  return (\n    <div className='drafts__draft-item clickable' onClick={onClick}>\n      <h4 className='drafts__draft-item__text'>{truncate(text)}</h4>\n      <h6 className='drafts__draft-item__status'>\n        {isCurrent ? 'Currently writing' : formatDate(new Date(date)) }\n      </h6>\n    </div>\n  );\n}\n \nexport default DraftItem;","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\n\nimport DraftItem from './blocks/draftItem';\n\nimport '../css/drafts.scss';\n\n\nclass Drafts extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isViewing: false,\n      isDeleting: false,\n      curDraft: {}\n    }\n  }\n\n  selectDraft = (draft) => {\n    this.setState({isViewing: true, curDraft: draft});\n  }\n\n  initDelete = () => {\n    this.setState({isDeleting: true});\n  }\n\n  delDraft = (key) => {\n    this.props.delDraft(key);\n    this.setState({isViewing: false, isDeleting: false, curDraft: {}});\n  }\n\n  cancelDelete = () => {\n    this.setState({isDeleting: false});\n  }\n\n  editDraft = () => {\n    this.props.editDraft(this.state.curDraft);\n    this.props.delDraft(this.state.curDraft.key);\n    this.props.history.push('/');\n  }\n\n  back = () => {\n    this.setState({isViewing: false});\n  }\n\n  render() { \n    const { isViewing, isDeleting, curDraft} = this.state; \n\n    let deleteMenu = \n      <React.Fragment>\n        <h4 className='clickable' onClick={() => this.cancelDelete}>Don't throw away</h4>\n        <h4 className='clickable danger' onClick={() => this.delDraft(curDraft.key)}>Click to throw away</h4>\n      </React.Fragment>\n\n    let draftSelected = \n      <React.Fragment>\n        <div className='mailbox__list main'>\n          <div>{curDraft.text}</div>\n        </div>\n        <div className='mailbox__menu context-menu'>\n          <h4 className='clickable' onClick={this.back}>Back to Drafts</h4>\n          <h4 className='clickable' onClick={this.editDraft}>Edit draft</h4>\n          {isDeleting ? \n            deleteMenu : \n            <h4 className='clickable danger drafts__delete' onClick={this.initDelete}>Throw away draft</h4>  \n          }\n        </div>\n      </React.Fragment>\n\n    let drafts =\n      <React.Fragment>\n        <div className='drafts main'>\n          {this.props.curLetter !== '' && <DraftItem text={this.props.curLetter} isCurrent />}\n          {this.props.drafts.length !== 0 || this.props.curLetter !== '' ? \n            this.props.drafts.map((draft, key) =>\n              <DraftItem text={draft.text} date={draft.date} key={key} onClick={() => this.selectDraft(draft)}/>\n            )\n            :\n            <h4 className='inactive'>No Drafts</h4>\n          }\n        </div>\n      </React.Fragment>\n\n    return (\n      isViewing ? draftSelected : drafts\n    );\n  }\n}\n \nexport default withRouter(Drafts);","import React, { Component } from 'react';\nimport '../css/about.scss'\n\n\nclass About extends Component {\n  state = { onPrivacy: false }\n\n  switchView = () => {\n    console.log('switching');\n    this.setState({onPrivacy: !this.state.onPrivacy})\n  }\n\n  render() { \n    let about = \n      <React.Fragment>\n        <div className='about main'>\n          <p className='about__paragraph'>\n            Write helps you communicate with the people you love.\n          </p> \n          <p className='about__paragraph'>\n            By bringing reflection, discovery, and expression together in an online space, Write reclaims the meaning and clarity lost in digital communication.\n          </p>\n          <p className='about__paragraph'>\n            Letter writing is a unique opportunity to reflect, discover, and express. Physically writing a letter is time consuming and associated with insecurities like bad handwriting and poor writing skills. On the other hand, digital communication is temporary and lacks meaning. Write makes it easy to send and receive meaningful communication not intermixed with the other to-dos and logistics cluttering our email inboxes, text histories, and voicemails. \n          </p>\n          <p className='about__paragraph'>\n            If you’re feeling stuck while writing, Write prompts you with self-reflective questions to ask yourself and your loved ones. Once you send a letter with Write, it will be delivered at a random moment within seven days after sending. When someone knows the exact moment a message was delivered and seen, an expectation for a hasty response is placed on both the sender and receiver. By delivering letters serendipitously, Write creates a space for reflecting on the content of the letter. \n          </p>\n          <p className='about_paragraph'>\n            Write is a project designed by <span className='about__credit clickable'><a target='_blank' href='https://mattwright.design'>Matt Wright</a></span> and developed by <span className='about__credit clickable'><a target='_blank' href='https://www.nathanjfoster.com'>Nathan Foster</a></span>. \n          </p>\n        </div>\n        <div className='context-menu'>\n          {/* <h4 className='clickable' onClick={this.switchView}>Privacy Statement</h4> */}\n        </div>\n      </React.Fragment>\n\n    let privacy = \n      <React.Fragment>\n        <div className='about main'>\n          <p className='about__paragraph'>\n            This is some info about the privacy stuff yada yada yada\n          </p> \n          <p className='about__paragraph'>\n            Write is built using blah blah blah\n          </p> \n        </div>\n        <div className='context-menu'>\n          <h4 className='clickable' onClick={this.switchView}>Back to about</h4>\n        </div>\n      </React.Fragment>\n\n    return (about);\n  }\n}\n \nexport default About;\n\n\n\n\n\n","import React, { Component } from 'react';\nimport MediaQuery from 'react-responsive';\n\nimport '../css/landing.scss';\n\nclass Landing extends Component {\n  constructor(props) {\n    super(props)\n    this.state = { \n      newUser: false,\n      emailEntered: false,\n      passEntered: false,\n      email: '',\n      pass: '',\n      name: ''\n    }\n    this.textInput = React.createRef();\n  }\n\n  toggleNewUser = () => {\n    this.setState((state) => ({newUser: !state.newUser}))\n    this.textInput.current.focus();\n  }\n\n  onChange = (e) => {\n    this.setState({[e.target.name]: e.target.value})\n  }\n\n  onEnter = (e) => {\n    if (e.keyCode === 13) {\n      let curVal = e.target.value;\n      if (e.target.name === 'email') {\n        this.setState({emailEntered: true, email: curVal});\n        e.target.value = '';\n      } else if (!this.state.newUser && e.target.name === 'pass') {\n        this.props.logIn(this.state.email, this.state.pass);\n      } else if (e.target.name === 'pass') {\n        this.setState({passEntered: true, pass: curVal});\n        e.target.value = '';\n      } else {\n        this.props.signUp(this.state.email, this.state.pass, this.state.name)\n      }\n    }\n  }\n\n  back = () => {\n    this.setState({\n      newUser: false,\n      emailEntered: false,\n      passEntered: false,\n      email: '',\n      pass: '',\n      name: ''\n    }, () => this.textInput.current.focus())\n  }\n\n  render() { \n    const getEmail = \n      <div>\n        <input \n          type='text' \n          placeholder={this.state.newUser ? 'Type your email to sign up' : 'Type your email to log in'}\n          onChange={this.onChange}\n          onKeyDown={this.onEnter} \n          name='email' \n          autoFocus\n          ref={this.textInput}\n        />\n        {this.state.email !== '' && <h6>{this.state.newUser ? \n          'Welcome to Write! Press enter to continue.'\n          : \n          'Welcome! Press enter to continue'}</h6>\n        }\n        <h6 className='clickable landing__sign-in-up' onClick={this.toggleNewUser}>\n          {this.state.newUser ?\n            'Returning user? Click to log in'\n            :\n            'or, click here to create an account'\n          }\n        </h6>\n      </div>\n\n    const passwordInfo = \n      <h6 className='inactive'>\n        Passwords must contain at least one: Uppercase Letter, Lowercase Letter, Number, and Symbol\n      </h6>\n\n    const getPassword = \n      <div>\n        <input \n          type='password'\n          placeholder='Type Password'\n          onChange={this.onChange}\n          onKeyDown={this.onEnter}\n          name='pass'\n          autoFocus\n        />\n        {this.state.newUser && passwordInfo}\n        {this.state.pass !== '' && <h6>{this.state.newUser ? 'Press enter to sign up' : 'Press enter to sign in'}</h6>}\n      </div>\n\n\n    const getName = \n      <div>\n        <input \n          type='text' \n          placeholder='What is your full name?' \n          onChange={this.onChange}\n          onKeyDown={this.onEnter} \n          name='name' \n          autoFocus\n        />\n        {this.state.name !== '' && <h6>Press enter to continue</h6>}\n      </div>\n\n    const menu =\n      <div className='menu landing__menu'>\n        <h4 className='clickable' onClick={this.back}>Back to home</h4>\n      </div>\n\n\n    return (\n      <React.Fragment>\n          <MediaQuery query=\"(max-device-width: 768px)\">\n            <div className='main'>\n              <p>Write is an experience best enjoyed on a larger screen. </p>\n              <p>Visit soon!</p>\n              <p>\n                What is Write?<br />By bringing reflection and connection into an online letter writing space space, Write reclaims the meaning lost in digital communication. \n              </p>\n              <p>\n                Letter writing is reflective and connecting for both the reader and writer. It’s a unique opportunity to reflect on yourself, discover more about someone else, and focus on expressing yourself through writing. Physically writing a letter is time consuming and associated with insecurities like bad handwriting and poor writing skills. On the other hand, digital communication is temporary and lacks meaning. Write makes it easy to send and receive meaningful communication not intermixed with the other to-dos and logistics cluttering our email inboxes, text histories, and voicemails. \n              </p>\n            </div>\n          </MediaQuery>\n          <MediaQuery query='(min-device-width: 769px)'>\n            <div className='main'>\n              <p>\n                Write helps you communicate with the people you love.\n              </p>\n              <p>\n                By bringing reflection, discovery, and expression together in an online space, Write reclaims the meaning and clarity lost in digital communication.\n              </p>\n              <p>\n                Letter writing is a unique opportunity to reflect, discover, and express. Physically writing a letter is time consuming and associated with insecurities like bad handwriting and poor writing skills. On the other hand, digital communication is temporary and lacks meaning. Write makes it easy to send and receive meaningful communication not intermixed with the other to-dos and logistics cluttering our email inboxes, text histories, and voicemails. \n              </p>\n              {\n                this.state.emailEntered ? this.state.passEntered ? getName : getPassword : getEmail\n              }\n            </div>\n            {this.state.emailEntered && menu}\n          </MediaQuery>\n      </React.Fragment>\n    );\n  }\n}\n \nexport default Landing;","import React, {Component} from 'react';\nimport { db, auth } from './util/firebase'\nimport {\n  BrowserRouter as Router,\n  Route\n} from 'react-router-dom';\nimport { createBrowserHistory } from 'history';\n\nimport Menu from './components/blocks/menu';\nimport Profile from './components/profile';\nimport WriteSpace from './components/writeSpace';\nimport Mailbox from './components/mailbox';\nimport Drafts from './components/drafts';\nimport About from './components/about';\nimport Landing from './components/landing';\n\nimport * as ROUTES from './util/routes';\n\nimport './css/app.scss';\n\nconst history = createBrowserHistory();\nconst letterCollection = 'letterCollection'\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      letter: '',\n      loggedIn: false,\n      user: {},\n      sent: [],\n      reccd: [],\n      drafts: []\n    };\n  }\n\n  componentWillUnmount() {\n    db.removeBinding(this.letterRef);\n  }\n\n  updateLetter = (e) => {\n    let value = e.target.value;\n    this.setState({letter: value })\n  }\n\n  send = (letter, email) => {\n    db.fetch('users', {\n      asArray: true,\n      queries: {\n        orderByChild: 'email',\n        equalTo: email\n      }\n    }).then((res) => {\n      let date = Date.now();\n      \n      let newLetter = {\n        date: date,\n        from: this.state.user.displayName,\n        fromEmail: this.state.user.email,\n        text: letter,\n        to: res[0].displayName,\n        toEmail: email\n      }\n      db.push('letterCollection', {data: newLetter})\n        .then(this.setState({letter: ''}))\n    })\n  }\n\n  startOver = (e) => {\n    this.setState({letter: ''});\n    e.value = '';\n    e.focus();\n  }\n\n  deleteLetter = (id) => {\n    db.remove(letterCollection + '/' + id)\n  }\n\n  deleteDraft = (id) => {\n    db.remove(`users/${this.state.user.uid}/drafts/${id}`)\n  }\n\n  editDraft = (draft) => {\n    // save current edit if currently editing\n    this.setState({letter: draft.text});\n  }\n\n  saveDraft = (draftText) => {\n    let draft = {\n      date: Date.now(),\n      text: draftText\n    }\n    db.push(`users/${this.state.user.uid}/drafts`, {data: draft});\n    this.setState({letter: ''});\n  }\n\n  logIn = (email, pass) => {\n    auth.signInWithEmailAndPassword(email, pass)\n    .then((user) => {\n      this.setState({loggedIn: true, user: user.user});\n      this.getData(this.state.user.email);\n    })  \n    .catch(e => console.log(e));\n  }\n\n  logOut = () => {\n    auth.signOut()\n        .then(() => {\n          this.setState({loggedIn: false});\n          history.push('/');\n        })\n        .catch(e => console.log(e));\n  }\n\n  signUp = (email, pass, name) => {\n    auth.createUserWithEmailAndPassword(email, pass)\n        .then((res) => {\n          res.user.updateProfile({displayName: name})\n          .then(() => {\n            this.setState({loggedIn: true, user: res.user});\n            this.getData(this.state.user.email);\n  \n            let newUser = {\n              displayName: this.state.user.displayName,\n              email: this.state.user.email,\n              letter: '',\n              drafts: {}\n            }\n  \n            db.post(`users/${this.state.user.uid}`, {data: newUser})\n          });\n        })\n        .catch(e => console.log(e))\n  }\n\n  getData = () => {\n    db.bindToState('letterCollection', {\n      context: this,\n      state: 'sent',\n      asArray: true, \n      queries: {\n        orderByChild: 'fromEmail',\n        equalTo: this.state.user.email,\n      }\n    })\n\n    db.bindToState('letterCollection', {\n      context: this,\n      state: 'reccd',\n      asArray: true, \n      queries: {\n        orderByChild: 'toEmail',\n        equalTo: this.state.user.email\n      }\n    })\n\n    db.bindToState(`users/${this.state.user.uid}/drafts`, {\n      context: this,\n      state: 'drafts',\n      asArray: true\n    })\n\n    this.letterRef = db.syncState(`users/${this.state.user.uid}/letter`, {\n      context: this,\n      state: 'letter'\n    });\n  }\n    \n\n  render() { \n    let {user, drafts, letter, reccd, sent} = this.state;\n    return (\n      this.state.loggedIn ?\n        <Router history={history}>\n          <div className='app'>\n            <Route exact path={ROUTES.LANDING} render={() => \n              <WriteSpace\n                text={letter}\n                onChange={this.updateLetter} \n                saveDraft={this.saveDraft}\n                send={this.send}\n                startOver={this.startOver}\n              />}  \n            />\n            <Route path={ROUTES.PROFILE} render={() => <Profile logOut={this.logOut} email={user.email} displayName={user.displayName}/>} />\n            <Route path={ROUTES.MAILBOX} render={() => <Mailbox reccd={reccd} sent={sent} delLetter={this.deleteLetter}/>}  />\n            <Route path={ROUTES.DRAFTS} render={() => <Drafts curLetter={letter} drafts={drafts} editDraft={this.editDraft} delDraft={this.deleteDraft}/>} />\n            <Route path={ROUTES.ABOUT} component={About} />\n            <Menu username={user.displayName}/>\n          </div>\n        </Router>\n      :\n        <Router>\n          <div className='app'>\n            <Route path={ROUTES.LANDING} render={() => <Landing logIn={this.logIn} signUp={this.signUp} />} />\n          </div>\n        </Router>\n    );\n  }\n}\n \nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}